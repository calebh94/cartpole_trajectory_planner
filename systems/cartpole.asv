classdef cartpole
    %CARTPOLE Summary of this class goes here
    %   Detailed explanation goes here
    
    properties
        mp
        mc
        muc
        mup
        l
        x
        xdot
        theta
        thetadot
        u
    end
    
    methods
        function obj = cartpole(mp,mc,muc,mup,l)
            %CARTPOLE Construct an instance of this class
            %   Detailed explanation goes here
            obj.mp = mp;
            obj.mc = mc;
            obj.muc = muc;
            obj.mup = mup;
            obj.l = l;
        end
        
        function obj = initState(x0,xdot0,theta0,thetadot0)
            obj.x0 = x0;
            obj.xdot0 = xdot0;
            obj.theta0 = theta0;
            obj.thetadot0 = thetadot0;
            obj.u = 0;  % init control as 0
        end
        
        function cost = calculateCost(obj)
            %METHOD1 Summary of this method goes here
            %   Detailed explanation goes here
            cost = 1000;
        end
        
        function obj = dynamics(obj, u, dt)
            state = [obj.x, obj.xdot, obj.theta, obj.thetadot]';
            [dXdt, xdot_x, xdot_u] = EOM_CartPole(x,u);
            statenew = dXdt * dt;
            obj.x = statenew(1);
            obj.xdot = statenew(2);
            obj.theta = statenew(3);
            obj.thetadot = statenew(4);
        end            
    end
end

